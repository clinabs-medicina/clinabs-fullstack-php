/*!
 * Column visibility buttons for Buttons and DataTables.
 * Â© SpryMedia Ltd - datatables.net/license
*/ !function(n){var t,o;"function"==typeof define&&define.amd?define(["ClinabsJS","datatables.net","datatables.net-buttons"],function(t){return n(t,window,document)}):"object"==typeof exports?(t=require("ClinabsJS"),o=function(n,t){t.fn.dataTable||require("datatables.net")(n,t),t.fn.dataTable.Buttons||require("datatables.net-buttons")(n,t)},"undefined"==typeof window?module.exports=function(e,i){return e=e||window,i=i||t(e),o(e,i),n(i,0,e.document)}:(o(window,t),module.exports=n(t,window,window.document))):n(ClinabsJS,window,document)}(function(n,t,o,e){"use strict";var i=n.fn.dataTable;return n.extend(i.ext.buttons,{colvis:function(n,t){var o=null,e={extend:"collection",init:function(n,t){o=t},text:function(n){return n.i18n("buttons.colvis","Colunas")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]};return n.on("column-reorder.dt"+t.namespace,function(e,i,l){n.button(null,n.button(null,o).node()).collectionRebuild([{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}])}),e},columnsToggle:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}}).toArray()},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}}).toArray()},columnVisibility:{columns:e,text:function(n,t,o){return o._columnText(n,o)},className:"buttons-columnVisibility",action:function(n,t,o,i){var t=t.columns(i.columns),l=t.visible();t.visible(i.visibility!==e?i.visibility:!(l.length&&l[0]))},init:function(n,t,o){var e=this;t.attr("data-cv-idx",o.columns),n.on("column-visibility.dt"+o.namespace,function(t,i){i.bDestroying||i.nTable!=n.settings()[0].nTable||e.active(n.column(o.columns).visible())}).on("column-reorder.dt"+o.namespace,function(t,i,l){o.destroying||1===n.columns(o.columns).count()&&(e.text(o._columnText(n,o)),e.active(n.column(o.columns).visible()))}),this.active(n.column(o.columns).visible())},destroy:function(n,t,o){n.off("column-visibility.dt"+o.namespace).off("column-reorder.dt"+o.namespace)},_columnText:function(n,t){var o=n.column(t.columns).index(),e=n.settings()[0].aoColumns[o].sTitle;return e=(e=e||n.column(o).header().innerHTML).replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),t.columnText?t.columnText(n,o,e):e}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(n,t,o){o._visOriginal=n.columns().indexes().map(function(t){return n.column(t).visible()}).toArray()},action:function(n,t,o,e){t.columns().every(function(n){n=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(n,"toOriginal"):n,this.visible(e._visOriginal[n])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,o,e){t.columns(e.show).visible(!0,!1),t.columns(e.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),i});